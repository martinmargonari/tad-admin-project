<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Nuevo Documento</title>
    <link rel="stylesheet" type="text/css" th:href="@{/chosen/chosen.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/chosen/docsupport/style.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/styles/style_form.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/styles/style_bar.css}"/>
</head>

<body>
<form action="/documentos" onsubmit="return validateAcronimoTad()" th:object="${user}" method="post">
    <input type="text" id="username" th:value="*{username}" name="username" style="display:none"/>
    <input type="text" id="password" th:value="*{password}" name="password" style="display:none"/>

    <label for="nombre">Nombre</label>
    <br/>
    <input type="text" id="nombre" name="nombre" required="true"/>
    <br/>

    <label for="descripcion">Descripción</label>
    <br/>
    <input type="text" id="descripcion" name="descripcion" required="true"/>
    <br/>

    <label for="usuario_creacion">Usuario Creación</label>
    <br/>
    <input type="text" id="usuario_creacion" name="usuario_creacion" required="true"/>
    <br/>

    <label for="acronimo_gedo">Acrónimo GEDO</label>
    <br/>
    <input type="text" id="acronimo_gedo" name="acronimo_gedo" required="true"/>
    <br/>

    <label for="acronimo_tad">Acrónimo TAD</label>
    <br/>
    <input type="text" id="acronimo_tad" name="acronimo_tad" required="true"/>
    <br/>
    <input type="hidden" id="acronimos_tads" name="acronimos_tads" th:value="${acronimos_tads}"/>

    <label for="es_embebido">Es embebido</label>
    <br/>
    <input type="radio" id="es_embebido" name="es_embebido" value="SI"/> Si
    <input type="radio" id="es_embebido_no" name="es_embebido" value="NO" checked="true"/> No
    <br/>

    <label for="firma_con_token">Firma con Token</label>
    <br/>
    <input type="radio" id="firma_con_token" name="firma_con_token" value="SI"/> Si
    <input type="radio" id="firma_con_token_no" name="firma_con_token" value="NO" checked="true"/> No
    <br/>

    <label for="es_firma_conjunta" >Es firma conjunta</label>
    <br/>
    <input type="radio" id="es_firma_conjunta" name="es_firma_conjunta" value="SI"/> Si
    <input type="radio" id="es_firma_conjunta_no" name="es_firma_conjunta" value="NO" checked="true"/> No

    <br/><br/>

    <input type="submit" value="Submit"/>
</form>

<script type="text/javascript">
function validateAcronimoTad() {
    var acronimos_tads = document.getElementById("acronimos_tads").value;
    var acronimo_tad = document.getElementById("acronimo_tad").value;

    if(acronimos_tads.includes(acronimo_tad)) {
        alert("El acrónimo de TAD ingresado ya existe para otro documento, por favor coloque uno distinto");
        return false;
    }

    return true;
}
</script>

</body>
</html>