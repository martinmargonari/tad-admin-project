<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Nuevo Documento</title>
    <link rel="stylesheet" type="text/css" th:href="@{/styles/style_form.css}"/>
</head>

<body>
<form action="/documentos" onsubmit="return validateAcronimoTad()" method="post">

    <label for="acronimo_gedo">Acrónimo GEDO</label>
    <br/>
    <input type="text" id="acronimo_gedo" name="acronimo_gedo" required="true"/>
    <br/>

    <label for="acronimo_tad">Acrónimo TAD</label>
    <br/>
    <input type="text" id="acronimo_tad" name="acronimo_tad" required="true"/>
    <br/>
    <input type="hidden" id="acronimos_tads" name="acronimos_tads" value="${acronimos_tads}"/>

    <label for="nombre">Nombre</label>
    <br/>
    <input type="text" id="nombre" name="nombre" required="true"/>
    <br/>

    <label for="descripcion">Descripción</label>
    <br/>
    <input type="text" id="descripcion" name="descripcion" required="true"/>
    <br/>

    <label for="usuario_creacion">Usuario Creación</label>
    <br/>
    <input type="text" id="usuario_creacion" name="usuario_creacion" required="true"/>
    <br/>

    <label for="es_embebido">Es embebido</label>
    <br/>
    <input type="radio" id="es_embebido" name="es_embebido" value="SI"/> Si
    <input type="radio" id="es_embebido_no" name="es_embebido" value="NO" checked="true"/> No
    <br/><br/>

    <input type="submit" value="Submit"/>
</form>

<script type="text/javascript">
function validateAcronimoTad() {
    var acronimos_tads = document.getElementById("acronimos_tads");
    var acronimo_tad = documment.getElementById("acronimo_tad").value;

    if(acronimos_tads.includes(acronimo_tad)) {
        alert("El acrónimo de TAD ingresado ya existe para otro documento, por favor coloque uno distinto");
        return false;
    }

    return true;
}
</script>

</body>
</html>